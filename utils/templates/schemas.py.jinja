# Automatically generated file. Do not modify.

from typing import Any, Callable

import pandera as pa
from pandera.dtypes import Int32, Timestamp
from pandera.typing import Index, Series

from ribasim import migrations

class _BaseSchema(pa.DataFrameModel):
    class Config:
        add_missing_columns = True
        coerce = True

    @classmethod
    def _index_name(self) -> str:
        return "fid"

    @classmethod
    def migrate(cls, df: Any) -> Any:
        f: Callable[[Any], Any] = getattr(
            migrations, str(cls.__name__).lower() + "migration", lambda x: x
        )
        return f(df)

{% for m in models %}
class {{m[:name]}}Schema(_BaseSchema):
    fid: Index[Int32] = pa.Field(default=1, check_name=True, coerce=True)
  {% for f in m[:fields] %}
    {% if (f[2] == "Series[Int32]") %}
    {{ f[1] }}: {{ f[2] }} = pa.Field(nullable={{ f[3] }}, default=0)
    {% else %}
    {{ f[1] }}: {{ f[2] }} = pa.Field(nullable={{ f[3] }})
    {% end %}
  {% end %}
{% end %}
