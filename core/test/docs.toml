# start- and endtime of the simulation
# can also be set to a date-time like 1979-05-27T07:32:00
starttime = 2019-01-01 # required
endtime = 2021-01-01   # required

# input files
database = "database.gpkg" # required
input_dir = "."            # optional, default "."
results_dir = "results"    # optional, default "."

# Specific tables can also go into Arrow files rather than the database.
# For large tables this can benefit from better compressed file sizes.
# This is optional, tables are retrieved from the database if not specified in the TOML.
[basin]
time = "basin/time.arrow"

[allocation]
timestep = 86400
use_allocation = true
objective_type = "quadratic_relative"

[solver]
algorithm = "QNDF"  # optional, default "QNDF"
saveat = []         # optional, default [], which saves every timestep
adaptive = true     # optional, default true
dt = 0.0            # optional when adaptive = true, default automatically determined
dtmin = 0.0         # optional, default automatically determined
dtmax = 0.0         # optional, default length of simulation
force_dtmin = false # optional, default false
abstol = 1e-6       # optional, default 1e-6
reltol = 1e-5       # optional, default 1e-5
maxiters = 1e9      # optional, default 1e9
sparse = true       # optional, default true
autodiff = true     # optional, default true

[logging]
# defines the logging level of Ribasim
verbosity = "info" # optional, default "info", can otherwise be "debug", "warn" or "error"
timing = false     # optional, whether to log debug timing statements

[results]
# These results files are always written
flow = "results/flow.arrow"             # optional, default "results/flow.arrow"
basin = "results/basin.arrow"           # optional, default "results/basin.arrow"
control = "results/control.arrow"       # optional, default "results/control.arrow"
allocation = "results/allocation.arrow" # optional, default "results/allocation.arrow"
compression = "zstd"                    # optional, default "zstd", also supports "lz4"
compression_level = 6                   # optional, default 6
